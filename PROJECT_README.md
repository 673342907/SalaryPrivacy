# ğŸ” ConfidentialPay

**åŸºäºå…¨åŒæ€åŠ å¯†çš„éšç§ä¿æŠ¤è–ªèµ„ç®¡ç†ç³»ç»Ÿ**

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![FHEVM](https://img.shields.io/badge/FHEVM-0.3.0--5-green.svg)](https://docs.zama.org)
[![Solidity](https://img.shields.io/badge/Solidity-0.8.24-orange.svg)](https://soliditylang.org)

## ğŸ“– é¡¹ç›®ç®€ä»‹

**ConfidentialPay** æ˜¯ä¸€ä¸ªåˆ›æ–°çš„å»ä¸­å¿ƒåŒ–åº”ç”¨ï¼ˆdAppï¼‰ï¼Œåˆ©ç”¨ Zama çš„ FHEVMï¼ˆå…¨åŒæ€åŠ å¯†è™šæ‹Ÿæœºï¼‰æŠ€æœ¯ï¼Œå®ç°äº†å®Œå…¨éšç§ä¿æŠ¤çš„è–ªèµ„ç®¡ç†ç³»ç»Ÿã€‚æ‰€æœ‰è–ªèµ„æ•°æ®åœ¨åŒºå—é“¾ä¸Šä»¥åŠ å¯†å½¢å¼å­˜å‚¨ï¼Œæ”¯æŒåœ¨ä¸è§£å¯†çš„æƒ…å†µä¸‹è¿›è¡ŒåŠ å¯†æ•°æ®è®¡ç®—ï¼Œåªæœ‰æˆæƒç”¨æˆ·æ‰èƒ½è§£å¯†æŸ¥çœ‹åŸå§‹æ•°æ®ã€‚

### ğŸ¯ æ ¸å¿ƒä»·å€¼

- **ğŸ”’ éšç§ä¿æŠ¤**: æ‰€æœ‰è–ªèµ„æ•°æ®åœ¨é“¾ä¸ŠåŠ å¯†å­˜å‚¨ï¼Œæ™ºèƒ½åˆçº¦æ— æ³•çœ‹åˆ°åŸå§‹æ•°æ®
- **ğŸ‘¥ æƒé™æ§åˆ¶**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼Œç¡®ä¿æ•°æ®å®‰å…¨
- **ğŸ’° åŠ å¯†è®¡ç®—**: æ”¯æŒåœ¨ä¸è§£å¯†çš„æƒ…å†µä¸‹è¿›è¡Œè–ªèµ„ç»Ÿè®¡å’Œé¢„ç®—æ¯”è¾ƒ
- **ğŸ” é›¶çŸ¥è¯†ä¿è¯**: å®Œå…¨é€æ˜ä¸”ä¸å¯ç¯¡æ”¹ï¼ŒåŒæ—¶ä¿æŠ¤æ•°æ®éšç§

## âœ¨ ä¸»è¦ç‰¹æ€§

### 1. å…¨åŒæ€åŠ å¯†ä¿æŠ¤
- æ‰€æœ‰è–ªèµ„æ•°æ®åœ¨é“¾ä¸Šä»¥åŠ å¯†å½¢å¼å­˜å‚¨
- æ”¯æŒåœ¨ä¸è§£å¯†çš„æƒ…å†µä¸‹è¿›è¡ŒåŠ å¯†æ•°æ®è®¡ç®—
- åªæœ‰æˆæƒç”¨æˆ·æ‰èƒ½è§£å¯†æŸ¥çœ‹åŸå§‹æ•°æ®

### 2. åŸºäºè§’è‰²çš„æƒé™ç®¡ç†
- **Adminï¼ˆç®¡ç†å‘˜ï¼‰**: å®Œå…¨æƒé™ï¼Œå¯ä»¥ç®¡ç†æ‰€æœ‰åŠŸèƒ½å’Œåˆ†é…è§’è‰²
- **HRï¼ˆäººåŠ›èµ„æºï¼‰**: å¯ä»¥åˆ›å»ºéƒ¨é—¨ã€ç®¡ç†å‘˜å·¥ã€æäº¤è–ªèµ„
- **Managerï¼ˆç»ç†ï¼‰**: å¯ä»¥æŸ¥çœ‹éƒ¨é—¨æ•°æ®å’Œå‘˜å·¥è–ªèµ„
- **Employeeï¼ˆå‘˜å·¥ï¼‰**: åªèƒ½æŸ¥çœ‹è‡ªå·±çš„è–ªèµ„

### 3. å®Œæ•´çš„ç»„ç»‡ç®¡ç†
- éƒ¨é—¨åˆ›å»ºå’Œç®¡ç†
- å‘˜å·¥æ·»åŠ å’Œè§’è‰²åˆ†é…
- åŠ å¯†é¢„ç®—è®¾ç½®å’Œåˆè§„æ£€æŸ¥

### 4. éšç§ä¿æŠ¤çš„è–ªèµ„ç®¡ç†
- HR/Admin å¯ä»¥æäº¤åŠ å¯†è–ªèµ„
- å‘˜å·¥å¯ä»¥æŸ¥çœ‹è‡ªå·±çš„è–ªèµ„ï¼ˆè‡ªåŠ¨è§£å¯†ï¼‰
- æ”¯æŒåŠ å¯†ç»Ÿè®¡å’Œé¢„ç®—åˆè§„æ£€æŸ¥

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

- **åŒºå—é“¾**: Ethereum Sepolia æµ‹è¯•ç½‘
- **åŠ å¯†æŠ€æœ¯**: Zama FHEVMï¼ˆå…¨åŒæ€åŠ å¯†è™šæ‹Ÿæœºï¼‰
- **å‰ç«¯æ¡†æ¶**: React + TypeScript
- **æ™ºèƒ½åˆçº¦**: Solidity (0.8.24)
- **å¼€å‘å·¥å…·**: Hardhat
- **UIæ¡†æ¶**: Tailwind CSS
- **åŒ…ç®¡ç†**: pnpm (Monorepo)

### ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         React Frontend (UI)             â”‚
â”‚  - é’±åŒ…è¿æ¥                              â”‚
â”‚  - FHEVM åˆå§‹åŒ–                          â”‚
â”‚  - åŠ å¯†/è§£å¯†æ“ä½œ                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      FHEVM SDK (ä¸­é—´å±‚)                   â”‚
â”‚  - åŠ å¯†æ•°æ®ç”Ÿæˆ                           â”‚
â”‚  - è§£å¯†è¯·æ±‚å¤„ç†                           â”‚
â”‚  - Relayer äº¤äº’                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ConfidentialSalary Contract          â”‚
â”‚  - åŠ å¯†æ•°æ®å­˜å‚¨                           â”‚
â”‚  - æƒé™ç®¡ç†                              â”‚
â”‚  - åŠ å¯†è®¡ç®—                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Ethereum Sepolia                â”‚
â”‚         (FHEVM Network)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 20.0.0
- pnpm >= 8.0.0
- MetaMask é’±åŒ…
- Sepolia æµ‹è¯•ç½‘ ETH

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone <repository-url>
   cd fhevm-react-template-main/fhevm-react-template-main
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   pnpm install
   ```

3. **æ„å»º SDK**
   ```bash
   pnpm sdk:build
   ```

4. **ç¼–è¯‘åˆçº¦**
   ```bash
   cd packages/hardhat
   pnpm compile
   ```

5. **éƒ¨ç½²åˆçº¦**
   ```bash
   # ç¡®ä¿ MetaMask è¿æ¥åˆ° Sepolia ç½‘ç»œ
   pnpm exec hardhat run deploy/deploy-confidential-salary.ts --network sepolia
   ```

6. **æ›´æ–°å‰ç«¯é…ç½®**
   ```typescript
   // packages/confidential-salary-frontend/src/config/contracts.ts
   export const CONTRACT_ADDRESSES = {
     11155111: '0xä½ çš„åˆçº¦åœ°å€',
   };
   ```

7. **å¯åŠ¨å‰ç«¯**
   ```bash
   cd packages/confidential-salary-frontend
   pnpm install
   pnpm start
   ```

## ğŸ“š ä½¿ç”¨æŒ‡å—

### åŸºæœ¬æµç¨‹

1. **è¿æ¥é’±åŒ…**: ä½¿ç”¨ MetaMask è¿æ¥é’±åŒ…
2. **åˆ‡æ¢ç½‘ç»œ**: ç¡®ä¿åœ¨ Sepolia æµ‹è¯•ç½‘
3. **æŸ¥çœ‹è§’è‰²**: éƒ¨ç½²è€…è‡ªåŠ¨æˆä¸º Admin
4. **åˆ›å»ºéƒ¨é—¨**: Admin/HR å¯ä»¥åˆ›å»ºéƒ¨é—¨
5. **æ·»åŠ å‘˜å·¥**: HR/Admin å¯ä»¥æ·»åŠ å‘˜å·¥
6. **æäº¤è–ªèµ„**: HR/Admin å¯ä»¥æäº¤åŠ å¯†è–ªèµ„
7. **æŸ¥çœ‹è–ªèµ„**: å‘˜å·¥å¯ä»¥æŸ¥çœ‹è‡ªå·±çš„è–ªèµ„

è¯¦ç»†ä½¿ç”¨è¯´æ˜è¯·å‚è€ƒ [USAGE_GUIDE.md](./packages/confidential-salary-frontend/USAGE_GUIDE.md)

## ğŸ” å®‰å…¨ç‰¹æ€§

- **å…¨åŒæ€åŠ å¯†**: æ•°æ®åœ¨é“¾ä¸ŠåŠ å¯†å­˜å‚¨ï¼Œæ”¯æŒåŠ å¯†è®¡ç®—
- **æƒé™æ§åˆ¶**: åŸºäºæ™ºèƒ½åˆçº¦çš„è§’è‰²æƒé™ç³»ç»Ÿ
- **é›¶çŸ¥è¯†ä¿è¯**: æ™ºèƒ½åˆçº¦æ— æ³•çœ‹åˆ°åŸå§‹æ•°æ®
- **é“¾ä¸ŠéªŒè¯**: æ‰€æœ‰æ“ä½œéƒ½åœ¨é“¾ä¸Šå¯éªŒè¯

## ğŸ¯ åº”ç”¨åœºæ™¯

- ä¼ä¸šå†…éƒ¨è–ªèµ„ç®¡ç†
- å»ä¸­å¿ƒåŒ–ç»„ç»‡ï¼ˆDAOï¼‰çš„è–ªé…¬ç³»ç»Ÿ
- éœ€è¦éšç§ä¿æŠ¤çš„è–ªèµ„å®¡è®¡
- å¤šéƒ¨é—¨ä¼ä¸šçš„è–ªèµ„ç»Ÿè®¡

## ğŸ“– æ–‡æ¡£

- [ä½¿ç”¨æŒ‡å—](./packages/confidential-salary-frontend/USAGE_GUIDE.md)
- [è§’è‰²ç®¡ç†æŒ‡å—](./packages/confidential-salary-frontend/HOW_TO_ASSIGN_ROLES.md)
- [æ•…éšœæ’é™¤](./TROUBLESHOOTING.md)
- [Windows ä½¿ç”¨æŒ‡å—](./WINDOWS_GUIDE.md)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ™ è‡´è°¢

- [Zama](https://www.zama.ai/) - FHEVM æŠ€æœ¯
- [FHEVM React Template](https://github.com/zama-ai/fhevm-react-template) - é¡¹ç›®æ¨¡æ¿

---

**ConfidentialPay** - è®©è–ªèµ„ç®¡ç†æ—¢å®‰å…¨åˆé€æ˜ ğŸ”âœ¨

