# ğŸš€ æ™ºèƒ½åˆçº¦éƒ¨ç½²å’Œå‰ç«¯è¿æ¥å®Œæ•´æŒ‡å—

## ğŸ“‹ ç›®å½•

1. [ç¯å¢ƒå‡†å¤‡](#ç¯å¢ƒå‡†å¤‡)
2. [æ™ºèƒ½åˆçº¦éƒ¨ç½²](#æ™ºèƒ½åˆçº¦éƒ¨ç½²)
3. [å‰ç«¯é…ç½®](#å‰ç«¯é…ç½®)
4. [éªŒè¯éƒ¨ç½²](#éªŒè¯éƒ¨ç½²)
5. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## 1. ç¯å¢ƒå‡†å¤‡

### 1.1 å®‰è£…ä¾èµ–

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
pnpm install

# æ„å»º SDK
pnpm sdk:build
```

### 1.2 é…ç½®ç¯å¢ƒå˜é‡

#### Hardhat ç¯å¢ƒå˜é‡

åœ¨ `packages/hardhat/` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
cd packages/hardhat
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
# éƒ¨ç½²è´¦æˆ·ç§é’¥ï¼ˆä¸è¦æäº¤åˆ° Gitï¼‰
PRIVATE_KEY=your_private_key_here

# Sepolia RPC URL
SEPOLIA_RPC_URL=https://sepolia.infura.io/v3/YOUR_INFURA_KEY
# æˆ–ä½¿ç”¨å…¬å…± RPC
# SEPOLIA_RPC_URL=https://rpc.sepolia.org

# Etherscan API Keyï¼ˆå¯é€‰ï¼Œç”¨äºéªŒè¯åˆçº¦ï¼‰
ETHERSCAN_API_KEY=your_etherscan_api_key
```

**é‡è¦æç¤ºï¼š**
- ç¡®ä¿è´¦æˆ·æœ‰è¶³å¤Ÿçš„ Sepolia ETHï¼ˆè‡³å°‘ 0.1 ETHï¼‰
- ç§é’¥ä¸è¦æäº¤åˆ° Git
- å°† `.env` æ·»åŠ åˆ° `.gitignore`

#### å‰ç«¯ç¯å¢ƒå˜é‡

åœ¨ `packages/nextjs/` ç›®å½•ä¸‹åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```bash
cd packages/nextjs
```

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
# æ™ºèƒ½åˆçº¦åœ°å€ï¼ˆéƒ¨ç½²åæ›´æ–°ï¼‰
NEXT_PUBLIC_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000
```

**æ³¨æ„ï¼š** éƒ¨ç½²è„šæœ¬ä¼šè‡ªåŠ¨æ›´æ–° `deployedContracts.ts`ï¼Œä½†ç¯å¢ƒå˜é‡éœ€è¦æ‰‹åŠ¨è®¾ç½®ã€‚

---

## 2. æ™ºèƒ½åˆçº¦éƒ¨ç½²

### 2.1 ç¼–è¯‘åˆçº¦

```bash
cd packages/hardhat
pnpm compile
```

### 2.2 éƒ¨ç½²åˆ° Sepolia

```bash
pnpm deploy:sepolia
```

éƒ¨ç½²è„šæœ¬ä¼šï¼š
1. âœ… æ£€æŸ¥è´¦æˆ·ä½™é¢
2. âœ… éƒ¨ç½²åˆçº¦åˆ° Sepolia
3. âœ… ä¿å­˜éƒ¨ç½²ä¿¡æ¯åˆ° `deployments/sepolia.json`
4. âœ… è‡ªåŠ¨æ›´æ–°å‰ç«¯ `deployedContracts.ts`

### 2.3 éƒ¨ç½²è¾“å‡ºç¤ºä¾‹

```
ğŸš€ å¼€å§‹éƒ¨ç½² ConfidentialSalary åˆçº¦...

ğŸ“ éƒ¨ç½²è´¦æˆ·: 0x1234...
ğŸ’° è´¦æˆ·ä½™é¢: 0.5 ETH

â³ æ­£åœ¨éƒ¨ç½²åˆçº¦...
âœ… åˆçº¦éƒ¨ç½²æˆåŠŸï¼
ğŸ“ åˆçº¦åœ°å€: 0x5678...
ğŸ“¦ éƒ¨ç½²åŒºå—: 12345678
ğŸ”— åœ¨ Etherscan æŸ¥çœ‹: https://sepolia.etherscan.io/address/0x5678...

ğŸ’¾ éƒ¨ç½²ä¿¡æ¯å·²ä¿å­˜åˆ°: packages/hardhat/deployments/sepolia.json
âœ… å‰ç«¯åˆçº¦é…ç½®å·²æ›´æ–°

ğŸ‰ éƒ¨ç½²å®Œæˆï¼

ğŸ“‹ ä¸‹ä¸€æ­¥ï¼š
1. åœ¨ Vercel ç¯å¢ƒå˜é‡ä¸­è®¾ç½® NEXT_PUBLIC_CONTRACT_ADDRESS=0x5678...
2. æˆ–æ›´æ–° packages/nextjs/.env.local æ–‡ä»¶
3. é‡æ–°éƒ¨ç½²å‰ç«¯åº”ç”¨
```

### 2.4 éªŒè¯åˆçº¦ï¼ˆå¯é€‰ï¼‰

```bash
pnpm verify <CONTRACT_ADDRESS>
```

---

## 3. å‰ç«¯é…ç½®

### 3.1 æ›´æ–°ç¯å¢ƒå˜é‡

éƒ¨ç½²æˆåŠŸåï¼Œæ›´æ–°å‰ç«¯ç¯å¢ƒå˜é‡ï¼š

#### æ–¹æ³• 1: æœ¬åœ°å¼€å‘

ç¼–è¾‘ `packages/nextjs/.env.local`ï¼š

```env
NEXT_PUBLIC_CONTRACT_ADDRESS=0x5678... # ä½¿ç”¨éƒ¨ç½²åçš„åœ°å€
```

#### æ–¹æ³• 2: Vercel éƒ¨ç½²

1. è¿›å…¥ Vercel é¡¹ç›®è®¾ç½®
2. è¿›å…¥ "Environment Variables"
3. æ·»åŠ å˜é‡ï¼š
   - **Name**: `NEXT_PUBLIC_CONTRACT_ADDRESS`
   - **Value**: `0x5678...` (éƒ¨ç½²åçš„åœ°å€)
   - **Environment**: Production, Preview, Development

### 3.2 éªŒè¯ deployedContracts.ts

æ£€æŸ¥ `packages/nextjs/contracts/deployedContracts.ts` æ˜¯å¦å·²æ›´æ–°ï¼š

```typescript
const deployedContracts = {
  11155111: {
    ConfidentialSalary: {
      address: "0x5678...", // åº”è¯¥æ˜¯éƒ¨ç½²åçš„åœ°å€
      abi: [...],
      inheritedFunctions: {},
      deployedOnBlock: 12345678,
    },
  },
} as const;
```

### 3.3 å¯åŠ¨å‰ç«¯

```bash
cd packages/nextjs
pnpm dev
```

è®¿é—® `http://localhost:3000/confidential-salary`

---

## 4. éªŒè¯éƒ¨ç½²

### 4.1 æ£€æŸ¥åˆçº¦éƒ¨ç½²

1. åœ¨ [Sepolia Etherscan](https://sepolia.etherscan.io/) æŸ¥çœ‹åˆçº¦
2. éªŒè¯åˆçº¦ä»£ç ï¼ˆå¦‚æœå·²éªŒè¯ï¼‰
3. æ£€æŸ¥åˆçº¦çŠ¶æ€

### 4.2 æµ‹è¯•å‰ç«¯è¿æ¥

1. **è¿æ¥é’±åŒ…**
   - ç‚¹å‡» "è¿æ¥é’±åŒ…" æŒ‰é’®
   - é€‰æ‹© MetaMask
   - åˆ‡æ¢åˆ° Sepolia æµ‹è¯•ç½‘

2. **æ£€æŸ¥ FHEVM åˆå§‹åŒ–**
   - ç­‰å¾… FHEVM åˆå§‹åŒ–å®Œæˆ
   - çŠ¶æ€åº”æ˜¾ç¤º "âœ… FHEVM è¿æ¥"

3. **æµ‹è¯•åŠŸèƒ½**
   - åˆ›å»ºéƒ¨é—¨ï¼ˆéœ€è¦ HR æˆ– Admin è§’è‰²ï¼‰
   - æ·»åŠ å‘˜å·¥
   - æäº¤è–ªèµ„
   - æŸ¥çœ‹ç»Ÿè®¡

### 4.3 å¸¸è§é—®é¢˜æ’æŸ¥

#### FHEVM åˆå§‹åŒ–å¤±è´¥
- âœ… æ£€æŸ¥æ˜¯å¦è¿æ¥åˆ° Sepolia æµ‹è¯•ç½‘
- âœ… æ£€æŸ¥ Relayer SDK æ˜¯å¦å·²åŠ è½½
- âœ… æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

#### äº¤æ˜“å¤±è´¥
- âœ… æ£€æŸ¥è´¦æˆ·æ˜¯å¦æœ‰è¶³å¤Ÿçš„ ETH
- âœ… æ£€æŸ¥åˆçº¦åœ°å€æ˜¯å¦æ­£ç¡®
- âœ… æ£€æŸ¥å‡½æ•°å‚æ•°æ˜¯å¦æ­£ç¡®
- âœ… æ£€æŸ¥è§’è‰²æƒé™ï¼ˆéœ€è¦ HR æˆ– Adminï¼‰

#### åŠ å¯†/è§£å¯†å¤±è´¥
- âœ… æ£€æŸ¥ FHEVM å®ä¾‹æ˜¯å¦å·²åˆå§‹åŒ–
- âœ… æ£€æŸ¥æ•°æ®ç±»å‹æ˜¯å¦åŒ¹é…ï¼ˆuint32ï¼‰
- âœ… æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

---

## 5. å¸¸è§é—®é¢˜

### Q: éƒ¨ç½²å¤±è´¥ï¼Œæç¤º "è´¦æˆ·ä½™é¢ä¸º 0"
**A:** éœ€è¦å…ˆè·å– Sepolia ETHï¼š
- ä½¿ç”¨ [Sepolia Faucet](https://sepoliafaucet.com/)
- æˆ–ä½¿ç”¨å…¶ä»–æµ‹è¯•ç½‘æ°´é¾™å¤´

### Q: å‰ç«¯æ— æ³•è¿æ¥åˆ°åˆçº¦
**A:** æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. åˆçº¦åœ°å€æ˜¯å¦æ­£ç¡®
2. æ˜¯å¦è¿æ¥åˆ°æ­£ç¡®çš„ç½‘ç»œï¼ˆSepoliaï¼‰
3. `deployedContracts.ts` æ˜¯å¦å·²æ›´æ–°

### Q: äº¤æ˜“ä¸€ç›´ pending
**A:** å¯èƒ½æ˜¯ç½‘ç»œæ‹¥å µï¼Œå°è¯•ï¼š
1. å¢åŠ  gas price
2. ç­‰å¾…æ›´é•¿æ—¶é—´
3. æ£€æŸ¥äº¤æ˜“åœ¨ Etherscan ä¸Šçš„çŠ¶æ€

### Q: å¦‚ä½•è·å–åˆçº¦ ABIï¼Ÿ
**A:** ABI ä¼šè‡ªåŠ¨ä»ç¼–è¯‘åçš„ artifacts è¯»å–ï¼Œæˆ–ä» Etherscan è·å–ï¼ˆå¦‚æœå·²éªŒè¯ï¼‰

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md) - è¯¦ç»†éƒ¨ç½²æŒ‡å—
- [README.md](./README.md) - é¡¹ç›®è¯´æ˜
- [Hardhat æ–‡æ¡£](https://hardhat.org/docs)
- [FHEVM æ–‡æ¡£](https://docs.zama.org)

---

## ğŸ‰ å®Œæˆï¼

éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å°±å¯ä»¥ï¼š
- âœ… åœ¨é“¾ä¸Šåˆ›å»ºéƒ¨é—¨
- âœ… æ·»åŠ å‘˜å·¥å¹¶åˆ†é…è§’è‰²
- âœ… æäº¤åŠ å¯†è–ªèµ„
- âœ… è¿›è¡ŒåŠ å¯†ç»Ÿè®¡åˆ†æ
- âœ… æŸ¥çœ‹å’Œç®¡ç†æƒé™

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼** ğŸš€


