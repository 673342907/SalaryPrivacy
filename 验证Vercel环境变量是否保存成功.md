# 验证 Vercel 环境变量是否保存成功

## 问题

在 Vercel 中添加环境变量后，保存了但网页上不显示数据。

## 这是正常现象！

环境变量保存后：
- ✅ 数据已经保存到 Vercel 系统
- ⚠️ 页面可能需要刷新才能显示
- ⚠️ **必须重新部署才能让环境变量生效**

## 验证步骤

### 步骤 1：刷新页面

1. 在环境变量设置页面，按 `F5` 或 `Ctrl+R` 刷新
2. 查看环境变量列表
3. 应该能看到 `NEXT_PUBLIC_ALCHEMY_API_KEY`

### 步骤 2：检查环境变量列表

如果刷新后还是不显示：

1. 确认你在正确的页面：
   - https://vercel.com/673342907s-projects/salary-privacy/settings/environment-variables

2. 检查环境变量列表：
   - 应该有一个表格显示所有环境变量
   - 查找 `NEXT_PUBLIC_ALCHEMY_API_KEY`
   - 检查 "Environment" 列是否显示 "Production, Preview, Development"

3. 如果确实没有显示：
   - 尝试重新添加（可能是保存失败）
   - 检查是否有错误提示

### 步骤 3：重新部署（重要！）

**环境变量保存后，必须重新部署才能生效！**

1. 返回 "Deployments" 页面：
   - https://vercel.com/673342907s-projects/salary-privacy

2. 触发新部署：
   - 方法 A：点击右上角 "Deploy" 按钮
   - 方法 B：找到最新部署，点击 "..." → "Redeploy"

3. 等待部署完成（通常 2-5 分钟）

### 步骤 4：验证部署日志

部署成功后，检查构建日志：

1. 点击部署详情
2. 查看构建日志
3. 应该看到：
   - ✅ 不再出现 `NEXT_PUBLIC_ALCHEMY_API_KEY is required` 错误
   - ✅ 构建成功完成
   - ✅ 部署状态为 "Ready"

## 如果环境变量确实没有保存

如果刷新后确实看不到环境变量：

1. **重新添加**：
   - 点击 "Add New"
   - 再次输入 Key 和 Value
   - 确保 Environment 选择正确
   - 点击 "Save"

2. **检查是否有错误提示**：
   - 保存时是否有红色错误提示
   - 检查 Key 名称是否正确（区分大小写）

3. **尝试不同的浏览器**：
   - 有时浏览器缓存可能导致显示问题
   - 尝试无痕模式或不同浏览器

## 快速验证方法

最简单的方法：**直接重新部署**

即使环境变量列表不显示，如果保存时没有错误提示，环境变量通常已经保存成功。直接重新部署，如果构建成功，说明环境变量已经生效。

## 检查清单

- [ ] 刷新了环境变量设置页面
- [ ] 在列表中看到了 `NEXT_PUBLIC_ALCHEMY_API_KEY`
- [ ] 重新部署了应用
- [ ] 部署成功，没有 ALCHEMY_API_KEY 错误
- [ ] 网站可以正常访问

## 注意事项

- ⚠️ 环境变量保存后不会立即生效，必须重新部署
- ⚠️ 环境变量的 Key 区分大小写
- ⚠️ `NEXT_PUBLIC_` 前缀的环境变量会在客户端代码中可见（这是正常的）
- ⚠️ 如果使用免费 Alchemy 套餐，注意请求限制

